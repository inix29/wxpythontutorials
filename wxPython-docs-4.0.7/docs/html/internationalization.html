
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>
<title>Internationalization Overview — wxPython Phoenix 4.0.7 documentation</title>
<link href="_static/css/phoenix.css" rel="stylesheet" type="text/css"/>
<link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js" type="text/javascript"></script>
<script src="_static/jquery.js" type="text/javascript"></script>
<script src="_static/underscore.js" type="text/javascript"></script>
<script src="_static/doctools.js" type="text/javascript"></script>
<script src="_static/language_data.js" type="text/javascript"></script>
<script src="_static/javascript/header.js" type="text/javascript"></script>
<script src="_static/javascript/sidebar.js" type="text/javascript"></script>
<script src="_static/javascript/jquery.collapse.js" type="text/javascript"></script>
<script src="_static/javascript/jquery.cookie.js" type="text/javascript"></script>
<script src="_static/javascript/toggle_visibility.js" type="text/javascript"></script>
<script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<link href="_static/phoenix_small.ico" rel="shortcut icon"/>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
<link href="writing_non_english_applications.html" rel="next" title="Writing Non-English Applications"/>
<link href="html_overview.html" rel="prev" title="HTML Overview"/>
</head><body>
<div class="related">
<h3>Navigation</h3>
<ul class="row1">
<li><img alt="" src="_static/images/sphinxdocs/phoenix_small.png"/></li>
<li><a href="https://wxPython.org/" style="color: rgb(238, 152, 22); hover: rgb(53, 95, 124);">Home</a> | </li>
<li><a href="gallery.html" style="color: rgb(238, 152, 22); hover: rgb(53, 95, 124);;">Gallery</a> | </li>
<li><a href="index.html" style="color: rgb(238, 152, 22); hover: rgb(53, 95, 124);">API Docs</a> » </li>
<li><a accesskey="U" href="Overviews.html">
<strong>Overview Documents</strong></a> »</li>
<li class="reltitle"> <strong>Internationalization Overview</strong></li>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="writing_non_english_applications.html" title="Writing Non-English Applications">next</a> |</li>
<li class="right">
<a accesskey="P" href="html_overview.html" title="HTML Overview">previous</a> |</li>
</ul>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<p class="logo"><a href="index.html">
<img alt="Logo" class="logo" src="_static/phoenix_main.png"/>
</a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#"> <strong>Internationalization Overview</strong></a><ul>
<li><a class="reference internal" href="#text-translation">Text translation</a><ul>
<li><a class="reference internal" href="#prepare-the-source-code">Prepare the source code</a></li>
<li><a class="reference internal" href="#do-the-actual-translation-work">Do the actual translation work</a></li>
<li><a class="reference internal" href="#sample-application">Sample application</a></li>
</ul>
</li>
<li><a class="reference internal" href="#localization-overview">Localization overview</a></li>
<li><a class="reference internal" href="#localize-dates">Localize dates</a></li>
<li><a class="reference internal" href="#localize-numbers">Localize numbers</a></li>
<li><a class="reference internal" href="#additional-resources">Additional resources</a></li>
</ul>
</li>
</ul>
<div id="searchbox" role="search" style="display: none">
<h4>Search</h4>
<form action="search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div aria-label="source link" id="sourcelink" role="note">
<a href="_sources/internationalization.txt" rel="nofollow">Show page source</a>
</div>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="body headerfix">

<div class="section" id="phoenix-title-internationalization-overview">
<span id="l10n"></span><span id="localization"></span><span id="i18n"></span><span id="internationalization"></span><h1><a class="reference internal" href="_images/phoenix_title.png"><img alt="phoenix_title" class="align-middle" src="_images/phoenix_title.png" style="width: 32px;"/></a> <strong>Internationalization Overview</strong><a class="headerlink" href="#phoenix-title-internationalization-overview" title="Permalink to this headline">¶</a></h1>
<p>“Internationalization” (often referred to as i18n) is the process to change an
application so that all user visible texts are translated to the user selected
language and that things like dates, money amounts and numbers in general are
shown in a format the user is familiar with/or used to.</p>
<p>The easiest way to show what is needed is by using a little code sample.</p>
<div class="section" id="text-translation">
<h2>Text translation<a class="headerlink" href="#text-translation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prepare-the-source-code">
<h3>Prepare the source code<a class="headerlink" href="#prepare-the-source-code" title="Permalink to this headline">¶</a></h3>
<p>Text translation in Python is done using gettext <a class="footnote-reference brackets" href="#id5" id="id1">1</a> , to ensure that all
wxPython labels are also translated we will use <a class="reference internal" href="wx.Locale.html#wx.Locale" title="wx.Locale"><code class="xref py py-class docutils literal notranslate"><span class="pre">wx.Locale</span></code></a> and
<a class="reference internal" href="wx.functions.html#wx.GetTranslation" title="wx.GetTranslation"><code class="xref py py-func docutils literal notranslate"><span class="pre">wx.GetTranslation</span></code></a> .</p>
<p>How to prepare your source code to enable translation of texts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aString</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="sa">u</span><span class="s2">"This is a string which will be translated"</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see it is very simple, you just enclose the text with the translation
function “_()”, obviously there is a bit more to it, see below.</p>
<p>Enabling I18N for a whole application you would do some setup in the application
file along the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">builtins</span>
<span class="n">builtins</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">'_'</span><span class="p">]</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetTranslation</span>

</pre></div>
</div>
<p>Here we setup the “_” translation function and making it available application
by adding it to builtin.</p>
<p>The code required to change to a different language is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">updateLanguage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lang</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Update the language to the requested one.</span>

<span class="sd">        Make *sure* any existing locale is deleted before the new</span>
<span class="sd">        one is created.  The old C++ object needs to be deleted</span>
<span class="sd">        before the new one is created, and if we just assign a new</span>
<span class="sd">        instance to the old Python variable, the old C++ locale will</span>
<span class="sd">        not be destroyed soon enough, likely causing a crash.</span>

<span class="sd">        :param string `lang`: one of the supported language codes</span>

<span class="sd">        """</span>
        <span class="c1"># if an unsupported language is requested default to English</span>
        <span class="k">if</span> <span class="n">lang</span> <span class="ow">in</span> <span class="n">appC</span><span class="o">.</span><span class="n">supLang</span><span class="p">:</span>
            <span class="n">selLang</span> <span class="o">=</span> <span class="n">appC</span><span class="o">.</span><span class="n">supLang</span><span class="p">[</span><span class="n">lang</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">selLang</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">LANGUAGE_ENGLISH</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locale</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale</span>

        <span class="c1"># create a locale object for this language</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Locale</span><span class="p">(</span><span class="n">selLang</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale</span><span class="o">.</span><span class="n">IsOk</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">locale</span><span class="o">.</span><span class="n">AddCatalog</span><span class="p">(</span><span class="n">appC</span><span class="o">.</span><span class="n">langDomain</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">locale</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="section" id="do-the-actual-translation-work">
<h3>Do the actual translation work<a class="headerlink" href="#do-the-actual-translation-work" title="Permalink to this headline">¶</a></h3>
<p>You need to extract all the text strings marked by the “_” function, a little
script <em class="xref py py-obj">geni18n.py</em> is in the <a class="reference download internal" download="" href="_downloads/fb12908dd1936225f62dd546b0af9574/i18nwxapp.zip"><code class="xref download docutils literal notranslate"><span class="pre">downloadable</span> <span class="pre">zip</span> <span class="pre">file</span></code></a>,
it will extract all the strings and generate a <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file, which is put to
the locale folder.  The <em class="xref py py-obj">geni18n.py</em> script will also generate the <code class="docutils literal notranslate"><span class="pre">.mo</span></code> files
for defined languages.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file is then provided to the translators and they use it to
generate a <code class="docutils literal notranslate"><span class="pre">.po</span></code> file for the language they translate too or they can also use
the <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file to merge new/changed text strings to an existing <code class="docutils literal notranslate"><span class="pre">.po</span></code> file.</p>
<p>To do the actual translation we recommend <em class="xref py py-obj">poEdit</em> <a class="footnote-reference brackets" href="#id6" id="id2">2</a> , it allows you to
create or update a translation catalog (<code class="docutils literal notranslate"><span class="pre">.po</span></code> file) from the <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file.</p>
</div>
<div class="section" id="sample-application">
<h3>Sample application<a class="headerlink" href="#sample-application" title="Permalink to this headline">¶</a></h3>
<p>In the <a class="reference download internal" download="" href="_downloads/fb12908dd1936225f62dd546b0af9574/i18nwxapp.zip"><code class="xref download docutils literal notranslate"><span class="pre">downloadable</span> <span class="pre">zip</span> <span class="pre">file</span></code></a>
we included a small sample application showing the above in action.</p>
<ul class="simple">
<li><p><em class="xref py py-obj">app_base.py</em> contains the initialization code</p></li>
<li><p><em class="xref py py-obj">sampleapp.py</em> is the main frame/application, just run this to see things in action</p></li>
<li><p><em class="xref py py-obj">geni18n.py</em> is the script to generate the <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file and it also generates the <code class="docutils literal notranslate"><span class="pre">.mo</span></code> files.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The application has a button which displays a file dialog, as wxPython uses
a native widget for this the text are shown in the operating system language
and not the language which is selected in <em class="xref py py-obj">app_base.py</em>.</p>
</div>
</div>
</div>
<div class="section" id="localization-overview">
<h2>Localization overview<a class="headerlink" href="#localization-overview" title="Permalink to this headline">¶</a></h2>
<p>“Localization”, often referred to as “L10n”, is the process to adapt the display
of dates and numbers to local custom.</p>
<p>E.g. “4/5/2012” would for an American mean April 5. 2012, but for most Europeans
it would be 4. May 2012.</p>
</div>
<div class="section" id="localize-dates">
<h2>Localize dates<a class="headerlink" href="#localize-dates" title="Permalink to this headline">¶</a></h2>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>to be written</p>
</div>
</div>
<div class="section" id="localize-numbers">
<h2>Localize numbers<a class="headerlink" href="#localize-numbers" title="Permalink to this headline">¶</a></h2>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>to be written</p>
</div>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://zetcode.com/wxpython/in18/">http://zetcode.com/wxpython/in18/</a></p></li>
<li><p><a class="reference external" href="http://wiki.wxpython.org/Internationalization">http://wiki.wxpython.org/Internationalization</a></p></li>
<li><p><a class="reference external" href="http://en.wikipedia.org/wiki/Internationalization_and_localization">http://en.wikipedia.org/wiki/Internationalization_and_localization</a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>gettext - <a class="reference external" href="http://docs.python.org/library/gettext.html">http://docs.python.org/library/gettext.html</a></p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>poEdit - <a class="reference external" href="http://www.poedit.net/">http://www.poedit.net/</a></p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="footer" role="contentinfo">
        © Copyright 2012-2019, The wxPython Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
<script>
            $(".codeexpander").collapse({head: "p", group: "div"},
            {show: function(){
                    this.animate({
                        opacity: 'toggle',
                        height: 'toggle'
                    }, 300);
                },
                hide : function() {

                    this.animate({
                        opacity: 'toggle',
                        height: 'toggle'
                    }, 300);
                }
            });
        </script>
</body>
</html>
